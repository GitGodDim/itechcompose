worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
	worker_connections 1024;
}

http {
      	# proxy part
         server {
            listen 80;
            server_name localhost.com 127.0.0.1;
            return 301 https://localhost.com/appa$request_uri;
            return 301 https://localhost.com/appb$request_uri;

            location /appa {
                proxy_pass          http://land:3000/;
                proxy_set_header    X-Forwarded-For $remote_addr;
            }

            location /appb {
                proxy_pass          http://cosmic:3200/;
                proxy_set_header    X-Forwarded-For $remote_addr;
            }
         location ~ /.well-known/acme-challenge {
         allow all;
         root /var/www/certbot;
     }

	}

}

